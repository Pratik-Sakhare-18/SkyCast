<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sky Cast | See the Sky Before You Fly</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
        integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <link rel="icon" type="image/x-icon" href="./images/favicon.png">
    <link rel="stylesheet" href="./styles/index.css">
    <link rel="stylesheet" href="./styles/footer-page.css">
</head>

<body id="body">

    <header>

        <nav class="nav">

            <div class="main-logo-heading-container">
                <img src="./images/favicon.png" alt="Sky - Cast Logo">
                <p>Sky-
                <pre>Cast</pre>
                </p>
            </div>

            <div class="info-container">

                <a href="/index.html" id="home">Home</a>
                <a href="./pages/about-page.html" id="about">About</a>

                <div class="deg-cel-btn-container">
                    <span>°F</span>
                    <div class="deg-cel-btn-switch" id="toggleBtn">
                        <div class="deg-cel-btn-circle"></div>
                    </div>
                    <span>°C</span>
                </div>

                <button class="theme-toggle-button" id="theme">
                    <i class="fa-solid fa-sun" id="sun-icon"></i>
                    <i class="fa-regular fa-moon" id="moon-icon"></i>Theme
                </button>

                <a href="./pages/login-page.html" class="login-link">
                    <button class="login-button" id="login">
                        <i class="fa-solid fa-right-to-bracket"></i>Login
                    </button>
                </a>

            </div>

            <button class="open-btn" onclick="toggleSidebar()">☰ </button>

        </nav>

    </header>

    <div class="sidebar" id="sidebar">

        <button class="open-btn" onclick="toggleSidebar()"><i class="fa-solid fa-xmark"></i> </button>
        <a href="/index.html" id="home">Home</a>
        <a href="./pages/about-page.html" id="about">About</a>

        <div class="deg-cel-btn-container">
            <span>°F</span>
            <div class="deg-cel-btn-switch" id="toggleBtn">
                <div class="deg-cel-btn-circle"></div>
            </div>
            <span>°C</span>
        </div>

        <button class="theme-toggle-button" id="theme">
            <i class="fa-solid fa-sun" id="sun-icon"></i>
            <i class="fa-regular fa-moon" id="moon-icon"></i>Theme
        </button>

        <a href="./pages/login-page.html" class="login-link">
            <button class="login-button" id="login">
                <i class="fa-solid fa-right-to-bracket"></i>Login
            </button>
        </a>

    </div>

    <div class="hover-container">
        <div class="hover-box"></div>
    </div>

    <div class="hover-container2">
        <div class="hover-box2"></div>
    </div>

    <div class="search-bar-container">

        <div class="search-bar">
            <button id="search-button"><i class="fa-solid fa-magnifying-glass"></i></button>
            <div class="search-box">
                <input type="text" id="cityInput" placeholder="Enter city (e.g., London,uk)">
            </div>
            <button onclick="getWeather()" id="main-search-button">🔍 Search</button>
            <a href="#map">
                <button id="locate-me-btn"><i class="fa-solid fa-location-dot"></i> Locate Me</button>
            </a>
        </div>

    </div>

    <div class="search-results-main-container">

        <div class="search-results-container">

            <div class="search-result-item-container" id="weatherBox">
                <div class="wheather-update-container">
                    <div class="left-container">
                        <div class="icon" id="icon">🌤️</div>
                        <div class="temp">
                            <p id="tempreture">--</p>°C
                        </div>
                    </div>
                    <div class="right-container">
                        <div class="location-container" id="cityName">📍City, In</div>
                        <div class="Partly-cloudy" id="description"><br>
                            <p>Feels Like: <span id="feelsLike">--</span> °C</p>
                        </div>
                    </div>
                </div>
                <div class="temperature-container">
                    <div class="deg-cel-container">Temperature : <p id="tempreturee"> --</p> °C</div>
                    <div class="kp-hover-container">Wind : <p id="wind"> -- </p> %</div>
                    <div class="humidity-container">Humidity : <p id="humidity"> --</p> %</div>
                </div>
            </div>

            <div class="days-container">
                <div class="day" id="mon"><span>Mon</span><span> 🌤️</span><span>25°C</span></div>
                <div class="day" id="tue"><span>Tue</span><span> 🌧️</span><span>22°C</span></div>
                <div class="day" id="wed"><span>Wed</span><span> ⛅</span><span>24°C</span></div>
                <div class="day" id="thu"><span>Thu</span><span> ☀️</span><span>27°C</span></div>
                <div class="day" id="fri"><span>Fri</span><span> 🌦️</span><span>23°C</span></div>
                <div class="day" id="sat"><span>Sat</span><span> 🌩️</span><span>21°C</span></div>
                <div class="day" id="sun"><span>Sun</span><span> 🌤️</span><span>26°C</span></div>
            </div>

        </div>

    </div>

    <div class="search-result-location-container">

        <div class="location-info-container">

            <div  id="map" style="height: 100%; width: 100%; border-radius: 10px;">
                <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d30115.904637388416!2d75.17808717615382!3d19.348007857453407!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bdb69c3f6929bf5%3A0x5d0bb5a98f5f3088!2sShevgaon%2C%20Maharashtra%20414502!5e0!3m2!1sen!2sin!4v1756013688551!5m2!1sen!2sin"
                    width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"
                    referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>

        </div>

    </div>

    <footer>

        <div class="footer-container">

            <div class="footer-logo-container"></div>

            <div class="footer-info-container">
                <span>Sky<br>Cast</span>
                <p>Sky Cast delivers real-time weather updates with accurate forecasts...</p>
                <button class="Contact-us-btn">Contact Us</button>
            </div>

            <div class="footer-quick-links-container">
                <h2>Quick Links</h2>
                <div class="footer-underline-div"></div>
                <div><i class="fa-solid fa-graduation-cap"></i><a href="#">Home</a></div>
                <div><i class="fa-solid fa-bag-shopping"></i><a href="#">About</a></div>
                <div> <i class="fa-solid fa-right-to-bracket"></i><a href="">Login</a></div>
                <div><i class="fa-solid fa-phone-volume"></i><a href="#">Contact</a></div>
            </div>


            <div class="footer-Contact-container">

                <h2>Contact Us</h2>
                <div class="footer-underline-div"></div>
                <div><i class="fa-solid fa-phone"></i><span>+91 9307913077</span></div>
                <div><i class="fa-solid fa-envelope"></i><span>skycast101@gmail.com</span></div>
                <div><i class="fa-solid fa-location-dot"></i><span>Shevgaon, India</span></div>

                <div class="footer-Contact-container2">
                    <div><i class="fa-brands fa-square-facebook"></i></div>
                    <div><i class="fa-brands fa-instagram"></i></div>
                    <div><i class="fa-brands fa-linkedin"></i></div>
                    <div><i class="fa-brands fa-youtube"></i></div>
                </div>

            </div>

        </div>

    </footer>

    <footer class="footer-copyright-container">
        <p>© 2025 SkyCast. All Rights Reserved.</p>
        <div>
            <button>Privacy Policy</button>
            <button>Terms of Service</button>
        </div>
    </footer>

    <script src="./script/script.js"></script>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
        integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin="">
        </script>

    <script>

        let map;
        const API_KEY = "6d7f0c5384c99aacb60067a7553f9103";

        const weatherIconMap = {
            "01d": "☀️", "01n": "🌙",
            "02d": "🌤️", "02n": "☁️",
            "03d": "☁️", "03n": "☁️",
            "04d": "☁️", "04n": "☁️",
            "09d": "🌧️", "09n": "🌧️",
            "10d": "🌦️", "10n": "🌧️",
            "11d": "🌩️", "11n": "🌩️",
            "13d": "❄️", "13n": "❄️",
            "50d": "🌫️", "50n": "🌫️",
        };

        async function getWeather() {
            const city = document.getElementById("cityInput").value;
            if (!city) return alert("Enter a city name");
    
            try {
                result = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city},in&units=metric&appid=${API_KEY}`);
                data = await result.json();
                updateCurrentWeatherUI(data);
                updateMap(data);
                console.log(data);
            } catch (error) {
                alert("Error: " + error.message);                
            }
        }

        function updateCurrentWeatherUI(data) {
            document.getElementById("cityName").innerText = `${data.name}, ${data.sys.country}`;
            document.getElementById("tempreture").innerText = Math.round(data.main.temp);
            document.getElementById("tempreturee").innerText = Math.round(data.main.temp);
            document.getElementById("feelsLike").innerText = Math.round(data.main.feels_like);
            document.getElementById("humidity").innerText = data.main.humidity;
            document.getElementById("wind").innerText = data.wind.speed;
            document.getElementById("description").innerHTML = `${data.weather[0].description}<br><p>Feels Like: <span id="feelsLike">${Math.round(data.main.feels_like)}</span> °C</p>`;
            
            const weatherIcon = weatherIconMap[data.weather[0].icon] || '❓';
            document.getElementById("icon").innerText = weatherIcon;
        }

        function updateMap(data) {
           const lat = data.coord.lat;
           const lon = data.coord.lon;

           if (!map) {
                map = L.map('map').setView([lat, lon], 11);
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '© OpenStreetMap contributors'
                }).addTo(map);
            } else {
                map.setView([lat, lon], 11);
            }
        }

        function updateForecastUI(data) {
            const forecastContainer = document.querySelector(".days-container");
            forecastContainer.innerHTML = ""; 

            const dailyData = {};

            data.list.forEach(item => {
                const date = new Date(item.dt_txt).toLocaleDateString();
                if (!dailyData[date] && item.dt_txt.includes("12:00:00")) {
                    dailyData[date] = item;
                }
            });

            Object.values(dailyData).slice(0, 7).forEach(dayData => {

                const dayElement = document.createElement("div");
                dayElement.className = "day";

                const dayName = new Date(dayData.dt_txt).toLocaleDateString('en-US', { weekday: 'short' });
                const icon = weatherIconMap[dayData.weather[0].icon] || '❓';
                const temp = `${Math.round(dayData.main.temp)}°C`;

                dayElement.innerHTML = `<span>${dayName}</span><span>${icon}</span><span>${temp}</span>`;
                forecastContainer.appendChild(dayElement);

            });
        }
    </script>

</body>

</html>